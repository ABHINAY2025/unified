!function(t){"use strict";function o(t){return void 0===t||t}function l(e){const i=Array(e);for(let t=0;t<e;t++)i[t]=j();return i}function j(){return Object.create(null)}function w(t,e){return e.length-t.length}const e=/[\p{Z}\p{S}\p{P}\p{C}]+/u;function f(n,r){const s=Object.keys(n),h=s.length,o=[];let l="",f=0;for(let t=0,e,i;t<h;t++)(i=n[e=s[t]])?(o[f++]=new RegExp(r?"(?!\\b)"+e+"(\\b|_)":e,"g"),o[f++]=i):l+=(l?"|":"")+e;return l&&(o[f++]=new RegExp(r?"(?!\\b)("+l+")(\\b|_)":"("+l+")","g"),o[f]=""),o}function u(i,n){for(let t=0,e=n.length;t<e&&(i=i.replace(n[t],n[t+1]));t+=2);return i}function c(i){if((i=(""+i).toLowerCase())&&(this.o&&(i=u(i,this.o)),this.A&&1<i.length&&(i=u(i,this.A)),(e||""===e)&&(i=i.split(e),this.filter))){var n=this.filter;const s=i.length,h=[];for(let t=0,e=0;t<s;t++){var r=i[t];r&&!n[r]&&(h[e++]=r)}i=h}return i}const g={},a={};function p(i,t){if(!(this instanceof p))return new p(i);let e;var n;i?(n=i.charset,e=i.lang,"string"==typeof n&&(-1===n.indexOf(":")&&(n+=":default"),n=a[n]),"string"==typeof e&&(e=g[e])):i={};let r,s,h=i.context||{};if(this.encode=i.encode||n&&n.encode||c,this.register=t||j(),this.s=r=i.resolution||9,this.B=t=n&&n.B||i.tokenize||"strict",this.i="strict"===t&&h.depth,this.j=o(h.bidirectional),this.g=s=o(i.optimize),this.m=o(i.fastupdate),this.h=i.minlength||1,this.C=i.boost,this.map=s?l(r):j(),this.v=r=h.resolution||1,this.l=s?l(r):j(),this.u=n&&n.u||i.rtl,this.o=(t=i.matcher||e&&e.o)&&f(t,!1),this.A=(t=i.stemmer||e&&e.A)&&f(t,!0),i=t=i.filter||e&&e.filter){i=t,n=j();for(let t=0,e=i.length;t<e;t++)n[i[t]]=1;i=n}this.filter=i}function m(t,e,i,n,r){return i&&1<t?e+(n||0)<=t?i+(r||0):(t-1)/(e+(n||0))*(i+(r||0))+1|0:0}function v(t,e,i,n,r,s,h){let o=h?t.l:t.map;e[i]&&(!h||e[i][h])||(t.g&&(o=o[n]),h?((e=e[i]||(e[i]=j()))[h]=1,o=o[h]||(o[h]=j())):e[i]=1,o=o[i]||(o[i]=[]),t.g||(o=o[n]||(o[n]=[])),s&&o.includes(r)||(o[o.length]=r,t.m&&((t=t.register[r]||(t.register[r]=[]))[t.length]=o)))}function A(s,t,e,h,o,l,f,u){let c=[],g=u?s.l:s.map;if(g=s.g?g:d(g,f,u,s.j)){let r=0;var a=Math.min(g.length,u?s.v:s.s);for(let t=0,e=0,i,n;t<a&&!((i=g[t])&&(s.g&&(i=d(i,f,u,s.j)),o&&i&&l&&((n=i.length)<=o?(o-=n,i=null):(i=i.slice(o),o=0)),i&&(c[r++]=i,l&&(e+=i.length)>=h)));t++);if(r)return l?C(c,h,0):void(t[t.length]=c)}return!e&&c}function C(t,e,i){return t=1===t.length?t[0]:[].concat.apply([],t),i||t.length>e?t.slice(i,i+e):t}function d(t,e,i,n){return t=i?(t=t[(n=n&&i<e)?e:i])&&t[n?i:e]:t[e]}function y(i,n,r,s,h){let o=0;if(i.constructor===Array)if(h)-1!==(n=i.indexOf(n))?1<i.length&&(i.splice(n,1),o++):o++;else{h=Math.min(i.length,r);for(let t=0,e;t<h;t++)(e=i[t])&&(o=y(e,n,r,s,h),s||o||delete i[t])}else for(var t in i)(o=y(i[t],n,r,s,h))||delete i[t];return o}p.prototype.append=function(t,e){return this.add(t,e,!0)},p.prototype.add=function(i,n,r,s){if(n&&(i||0===i)){if(!s&&!r&&this.register[i])return this.update(i,n);if(s=(n=this.encode(n)).length){var h=j(),o=j(),l=this.i,f=this.s;for(let e=0;e<s;e++){let t=n[this.u?s-1-e:e];var u=t.length;if(t&&u>=this.h&&(l||!o[t])){var c,g,a=m(f,s,e),p="";switch(this.B){case"full":if(2<u){for(a=0;a<u;a++)for(var d=u;a<d;d--)d-a>=this.h&&(c=m(f,s,e,u,a),v(this,o,p=t.substring(a,d),c,i,r));break}case"reverse":if(1<u){for(d=u-1;0<d;d--)(p=t[d]+p).length>=this.h&&v(this,o,p,m(f,s,e,u,d),i,r);p=""}case"forward":if(1<u){for(d=0;d<u;d++)(p+=t[d]).length>=this.h&&v(this,o,p,a,i,r);break}default:if(this.C&&(a=Math.min(a/this.C(n,t,e)|0,f-1)),v(this,o,t,a,i,r),l&&1<s&&e<s-1)for(u=j(),p=this.v,a=t,d=Math.min(l+1,s-e),c=u[a]=1;c<d;c++)(t=n[this.u?s-1-e-c:e+c])&&t.length>=this.h&&!u[t]&&(u[t]=1,v(this,h,(g=this.j&&t>a)?a:t,m(p+(p<s/2?0:1),s,e,d-1,c-1),i,r,g?t:a))}}}this.m||(this.register[i]=1)}}return this},p.prototype.search=function(n,i,r){r||(i||"object"!=typeof n?"object"==typeof i&&(r=i):n=(r=n).query);let f=[],s,u,c=0;var h;if(r&&(n=r.query||n,i=r.limit,c=r.offset||0,h=r.context,u=!1),n&&(n=this.encode(""+n),1<(s=n.length))){r=j();var o=[];for(let t=0,e=0,i;t<s;t++)if((i=n[t])&&i.length>=this.h&&!r[i]){if(!(this.g||u||this.map[i]))return f;r[o[e++]=i]=1}n=o,s=n.length}if(!s)return f;i=i||100,r=0;let l;(h=this.i&&1<s&&!1!==h)?(l=n[0],r=1):1<s&&n.sort(w);for(let t,e;r<s;r++){if(e=n[r],h?(t=A(this,f,u,i,c,2===s,e,l),u&&!1===t&&f.length||(l=e)):t=A(this,f,u,i,c,1===s,e),t)return t;if(u&&r===s-1){if(!(o=f.length)){if(h){h=0,r=-1;continue}return f}if(1===o)return C(f[0],i,c)}}{var t=f,g=i,a=c,p=u,d=t.length;let s=[],h,o,l=0;p=p&&[];for(let r=d-1;0<=r;r--){const e=t[r],y=e.length,b=j();let n=!h;for(let t=0;t<y;t++){var m=e[t],v=m.length;if(v)for(let t=0,e,i;t<v;t++)if(i=m[t],h){if(h[i]){if(!r)if(a)a--;else if(s[l++]=i,l===g)return s;(r||p)&&(b[i]=1),n=!0}if(p&&(e=(o[i]||0)+1,(o[i]=e)<d)){const x=p[e-2]||(p[e-2]=[]);x[x.length]=i}}else b[i]=1}if(p)h||(o=b);else if(!n)return[];h=b}if(p)for(let t=p.length-1,i,n;0<=t;t--){n=(i=p[t]).length;for(let t=0,e;t<n;t++)if(e=i[t],!h[e]){if(a)a--;else if(s[l++]=e,l===g)return s;h[e]=1}}return s}},p.prototype.contain=function(t){return!!this.register[t]},p.prototype.update=function(t,e){return this.remove(t).add(t,e)},p.prototype.remove=function(i,t){var n=this.register[i];if(n){if(this.m)for(let t=0,e;t<n.length;t++)(e=n[t]).splice(e.indexOf(i),1);else y(this.map,i,this.s,this.g),this.i&&y(this.l,i,this.v,this.g);t||delete this.register[i]}return this};const i=t;let n;const r={Index:p,Document:null,Worker:null,registerCharset:function(t,e){a[t]=e},registerLanguage:function(t,e){g[t]=e}};(n=i.define)&&n.amd?n([],function(){return r}):i.exports?i.exports=r:i.FlexSearch=r}(this);